{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/lucidsamuel/Downloads/Lucid-Solana-Wallet/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Button, Title, Text } from \"react-native-paper\";\nimport { Connection, clusterApiUrl, Keypair, LAMPORTS_PER_SOL } from \"@solana/web3.js\";\nvar BUTTON_TEXT = \"Request Airdrop\";\nvar BUTTON_TEXT_LOADING = \"Requesting Airdrop...\";\nexport default function App() {\n  var _account$keypair, _account$keypair$publ;\n\n  var _useState = useState({\n    keypair: null,\n    balance: 0\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      account = _useState2[0],\n      setAccount = _useState2[1];\n\n  var _useState3 = useState({\n    text: BUTTON_TEXT,\n    loading: false\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      requestAirdropButton = _useState4[0],\n      setRequestAirdropButton = _useState4[1];\n\n  var createConnection = function createConnection() {\n    return new Connection(clusterApiUrl(\"devnet\"));\n  };\n\n  var createAccount = function createAccount() {\n    var keypair = Keypair.generate();\n    var initialBalance = 0;\n    setAccount({\n      keypair: keypair,\n      balance: 0\n    });\n  };\n\n  var getBalance = function getBalance(publicKey) {\n    var connection, lamports;\n    return _regeneratorRuntime.async(function getBalance$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            connection = createConnection();\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(connection.getBalance(publicKey).catch(function (err) {\n              console.error(\"Error: \" + err);\n            }));\n\n          case 3:\n            lamports = _context.sent;\n            return _context.abrupt(\"return\", lamports / LAMPORTS_PER_SOL);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var requestAirdrop = function requestAirdrop(publicKey) {\n    var connection, airdropSignature, signature, newBalance;\n    return _regeneratorRuntime.async(function requestAirdrop$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setRequestAirdropButton({\n              text: BUTTON_TEXT_LOADING,\n              loading: true\n            });\n            connection = createConnection();\n            _context2.next = 4;\n            return _regeneratorRuntime.awrap(connection.requestAirdrop(publicKey, LAMPORTS_PER_SOL));\n\n          case 4:\n            airdropSignature = _context2.sent;\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(connection.confirmTransaction(airdropSignature));\n\n          case 7:\n            signature = _context2.sent;\n            _context2.next = 10;\n            return _regeneratorRuntime.awrap(getBalance(publicKey));\n\n          case 10:\n            newBalance = _context2.sent;\n            setAccount(_objectSpread(_objectSpread({}, account), {}, {\n              balance: newBalance\n            }));\n            setRequestAirdropButton({\n              text: BUTTON_TEXT,\n              loading: false\n            });\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, account.keypair ? React.createElement(React.Fragment, null, React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Lucid Solana Wallet\"), React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, \"Public Key\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, account == null ? void 0 : (_account$keypair = account.keypair) == null ? void 0 : (_account$keypair$publ = _account$keypair.publicKey) == null ? void 0 : _account$keypair$publ.toBase58())), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, \"Balance\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, account == null ? void 0 : account.balance, \" SOL\")), React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: function onPress() {\n      return requestAirdrop(account.keypair.publicKey);\n    },\n    loading: requestAirdropButton.loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, requestAirdropButton.text))) : React.createElement(View, {\n    style: styles.row,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, React.createElement(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Account doesn't exist \")), React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: function onPress() {\n      return createAccount();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Create New Account\"));\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  row: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginVertical: 20\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Button","Title","Text","Connection","clusterApiUrl","Keypair","LAMPORTS_PER_SOL","BUTTON_TEXT","BUTTON_TEXT_LOADING","App","keypair","balance","account","setAccount","text","loading","requestAirdropButton","setRequestAirdropButton","createConnection","createAccount","generate","initialBalance","getBalance","publicKey","connection","catch","err","console","error","lamports","requestAirdrop","airdropSignature","confirmTransaction","signature","newBalance","styles","container","row","toBase58","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","marginVertical"],"sources":["/Users/lucidsamuel/Downloads/Lucid-Solana-Wallet/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport { Button, Title, Text } from \"react-native-paper\";\n\nimport {\n  Connection,\n  clusterApiUrl,\n  Keypair,\n  LAMPORTS_PER_SOL,\n} from \"@solana/web3.js\";\n\nconst BUTTON_TEXT = \"Request Airdrop\"; \nconst BUTTON_TEXT_LOADING = \"Requesting Airdrop...\";\n\nexport default function App() {\n  const [account, setAccount] = useState({ keypair: null, balance: 0 });\n  const [requestAirdropButton, setRequestAirdropButton] = useState({\n    text: BUTTON_TEXT,\n    loading: false,\n  });\n\n  const createConnection = () => {\n    return new Connection(clusterApiUrl(\"devnet\"));\n  };\n\n  const createAccount = () => {\n    const keypair = Keypair.generate();\n    const initialBalance = 0;\n    setAccount({ keypair: keypair, balance: 0 });\n  };\n\n  const getBalance = async (publicKey) => {\n    const connection = createConnection();\n\n    const lamports = await connection.getBalance(publicKey).catch((err) => {\n      console.error(`Error: ${err}`);\n  });\n\n      return lamports / LAMPORTS_PER_SOL;\n  };\n\n  const requestAirdrop = async (publicKey) => {\n    setRequestAirdropButton({ text: BUTTON_TEXT_LOADING, loading: true });\n    const connection = createConnection();\n\n    const airdropSignature = await connection.requestAirdrop(\n      publicKey,\n      LAMPORTS_PER_SOL\n    );\n\n    const signature = await connection.confirmTransaction(airdropSignature);\n\n    const newBalance = await getBalance(publicKey);\n\n    setAccount({ ...account, balance: newBalance });\n    setRequestAirdropButton({ text: BUTTON_TEXT, loading: false });\n  };\n\n\n  return (\n    <View style={styles.container}>\n      {account.keypair ? (\n        <>\n          <View style={styles.row}>\n          <Title>Lucid Solana Wallet</Title>\n            <Title>Public Key</Title>\n            <Text>{account?.keypair?.publicKey?.toBase58()}</Text>\n          </View>\n          <View style={styles.row}>\n            <Title>Balance</Title>\n            <Text>{account?.balance} SOL</Text>\n          </View>\n          <View style={styles.row}>\n            <Button\n              mode=\"outlined\"\n              onPress={() => requestAirdrop(account.keypair.publicKey)}\n              loading={requestAirdropButton.loading}\n            >\n              {requestAirdropButton.text}\n            </Button>\n          </View>\n        </>\n      ) : (\n        <View style={styles.row}>\n          <title>Account doesn't exist </title>\n        </View>\n      )}\n      <Button mode=\"outlined\" onPress={() => createAccount()}>\n        Create New Account\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  row: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginVertical: 20,\n  },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}